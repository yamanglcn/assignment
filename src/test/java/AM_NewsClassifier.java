import org.junit.After;
import org.junit.jupiter.api.MethodOrderer;
import org.junit.jupiter.api.Order;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestMethodOrder;
import uob.oop.NewsClassifier;

import java.io.ByteArrayOutputStream;
import java.io.PrintStream;
import java.text.DecimalFormat;

import static org.junit.jupiter.api.Assertions.assertEquals;

@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
public class AM_NewsClassifier {
    private final ByteArrayOutputStream outContent = new ByteArrayOutputStream();
    private final ByteArrayOutputStream errContent = new ByteArrayOutputStream();
    private final PrintStream originalOut = System.out;
    private final PrintStream originalErr = System.err;

    static NewsClassifier myNewsClassifier = new NewsClassifier();
    static String[] arrayTest = {"Hello World", "I Love This World"};

    public static double doubMarks = 0;

    @After
    public void restoreStreams() {
        System.setOut(originalOut);
        System.setErr(originalErr);
    }

    @Test
    @Order(1)
    void loadData_Title() {
        myNewsClassifier.loadData();
        assertEquals("Who is Sam Altman? The OpenAI boss and ChatGPT guru who is now one of AI's biggest players", myNewsClassifier.newsTitles[myNewsClassifier.myHTMLs.length - 1]);
        doubMarks += 0.5;
    }

    @Test
    @Order(2)
    void loadData_TitleLength() {
        myNewsClassifier.loadData();
        assertEquals(90, myNewsClassifier.newsTitles[myNewsClassifier.myHTMLs.length - 1].length());
        doubMarks += 0.5;
    }

    @Test
    @Order(3)
    void loadData_Content() {
        myNewsClassifier.loadData();
        assertEquals("he was a tech whizz before he left primary school, dropped out of one of america's top universities, and now appears to be spearheading a revolution that could change our lives forever. so far, so silicon valley. and like so many of the billionaire entrepreneurs that have emerged from that infamous stretch of sunny california, openai's sam altman appears well on his way to becoming a household name. the fresh-faced 38-year-old would have been unknown to most outside tech circles before the launch of his firm's breakthrough chatbot chatgpt, but he now spends much of his increasingly precious time rubbing shoulders with world leaders and some of america's most recognisable executives. his path to becoming \\\"a remarkable figure in the realm of innovation and entrepreneurship\\\" (those are chatgpt's words when asked for an introduction to its chief creator, not mine) began at his childhood home in missouri, where eight-year-old altman was gifted his first computer, quickly learning not just how to use it, but to program for it. altman attended john burroughs school in st louis, and told the new yorker in a 2016 interview that having his computer helped him come to terms with his sexuality and come out to his parents when he was a teenager. \\\"growing up gay in the midwest in the 2000s was not the most awesome thing,\\\" he recalled. \\\"and finding aol chatrooms was transformative. secrets are bad when you are 11 or 12.\\\" a familiar dropout with school in the rear view mirror, it was time for university - stanford, no less. altman made his way to that famous california institution to study computer science, but dropped out after just two years, following in the footsteps of previous dropouts-turned-tech superstars bill gates and mark zuckerberg, who both abandoned their harvard degrees before becoming two of history's most influential ceos. abandoning a precious spot at one of america's top universities seemed such a rite of passage for the country's leading tech entrepreneurs that it played right into the success story of the now disgraced elizabeth holmes, whose departure from stanford to gatecrash silicon valley led to a wave of media attention not dissimilar to that currently given to altman. his first post-university venture was a smartphone app called loopt, which let users selectively share their real-time location with other people. some $30m (&#163;24m) was raised to launch the company, aided by funding from a start-up accelerator firm called y combinator, which lists the likes of airbnb and twitch among the internet companies it has helped establish. altman became president of y combinator itself in 2014, after the sale of loopt for $44m (&#163;35m) in 2012. he also founded his own venture capital fund called hydrazine capital, attracting enough investment to be named on the forbes 30 under 30 list for venture capital. as if he wasn't busy enough, altman also ran reddit for a grand total of eight days amid a leadership shake-up in 2014, describing his tenure as \\\"sort of fun\\\". the rise of openai while his time at the top of reddit only lasted eight days, his oversight of openai has now lasted eight years. he's \\\"doing pretty well\\\" with it, he said in a february tweet (certainly compared to loopt, which, he now says, \\\"sucked\\\").  he launched the company with a certain elon musk (who only ran spacex and tesla at the time) in 2015, the two men providing funding alongside the likes of amazon and microsoft, totalling $1bn (&#163;800m). it was run as a non-profit with the noble goal of developing ai while making sure it doesn't wipe out humanity. so far, mission accomplished - but if altman's to be believed, the risk since has become very real indeed. under his tenure, openai has ceased to be a non-profit and now has an estimated value of up to $29bn (&#163;23bn), all thanks to the remarkable success of its generative ai tools - chatgpt for text and dall-e for images. microsoft boss satya nadella has described altman as an \\\"unbelievable entrepreneur\\\" who bets big and bets right, which openai's success makes hard to argue with. chatgpt amassed tens of millions of users within weeks of launching in late 2022, wowing experts and casual observers alike with its ability to pass the world's toughest exams, get through job applications, compose anything from political speeches to children's homework, and write its own computer code. suddenly the concept of a large language model (meaning it is trained on huge amounts of text data so that it can understand our requests and respond accordingly) became something of a mainstream buzz term, its popularity seeing microsoft invest extra cash into openai and bring the tech to its bing search engine and office apps. google also got in on the act with its bard chatbot, some of china's biggest tech companies entered the race, while musk - who left openai in 2018 due to a conflict of interest with tesla's work on self-driving ai - has said he wants to launch his own one too. all the while, openai's technology is also improving - an upgrade dubbed gpt-4 within months of chatgpt's release showing just how quickly these models can develop. read more:we asked a chatbot to help write an article  'my worst fears' but for all the wonder such systems have provided, it's matched - if not surpassed - by the concerns. whether it be spreading disinformation or making jobs redundant, governments are scrambling to formulate an effective way of regulating a technology that seems destined to change the world forever. perhaps with an eye on how some of his silicon valley contemporaries have failed to act on the dangers of their creations before it's too late, altman appears keen to be a willing participant in just how it should be done. \\\"my worst fears are that we, the industry, cause significant harm to the world,\\\" altman told the us senate, his assessment that government regulation would be \\\"critical to mitigate the risks\\\" undoubtedly music to the ears of politicians who never seem overly impressed by figures from the tech world. read more:who is the 'godfather of ai'?  in the space of a few short weeks, altman met the us vice president, kamala harris, france's emmanuel macron, european commission president ursula von der leyen and the british prime minister, rishi sunak - all politicians who share the same hopes and fears about the potential benefits and dangers of ai. with the eu seemingly none too impressed by elon musk's running of twitter, tiktok managing to achieve the mostly impossible task of uniting democrats and republicans against a common enemy, and mark zuckerberg having struggled to repair his reputation after the cambridge analytica scandal, the upstart altman could be positioning himself to become a more durable tech star than some of his forebears.  but just in case it does all go wrong, he's previously admitted to being a prepper - someone who stockpiles everything from guns to medicine should the worst should befall us. let's hope he's being overly cautious.", myNewsClassifier.newsContents[myNewsClassifier.myHTMLs.length - 1]);
        doubMarks += 0.5;
    }

    @Test
    @Order(4)
    void loadData_ContentLength() {
        myNewsClassifier.loadData();
        assertEquals(7029, myNewsClassifier.newsContents[myNewsClassifier.myHTMLs.length - 1].length());
        doubMarks += 0.5;
    }

    @Test
    @Order(5)
    void preProcessing() {
        assertEquals(26, myNewsClassifier.preProcessing().length);
        doubMarks += 1;
    }

    @Test
    @Order(6)
    void preProcessing_1() {
        assertEquals("chatgpt trick produc maliciou code could us launch cyberattack study ha found openai tool similar chatbot create written content bas user command hav train enormou amount text data acros internet design protection place prevent misuse along addres issu bias bad actor turn alternativ purposefully creat aid cyber crime dark web tool call wormgpt expert warn could help develop largescale attack researcher university sheffield warn vulnerabiliti also exist mainstream option allow trick help destroy databas steal personal information br servic include chatgpt similar platform creat chinese company baidu computer science phd student xutan peng col study said risk ai like chatgpt people us productivity tool rather conversational bot thi research show vulnerabiliti read moremartin lewi warn frighten ai scam videoai doesnt capability take say microsoft bos aigenerat code harmful much like generative ai tool inadvertently get fact wrong answer question also create potentially damag computer code without realis mr peng suggest nurse could use chatgpt write code navigat database patient record code produc chatgpt many cas harmful database said nurse thi scenario may cause seriou data management fault without even receiv warn dur study scientist themselv able create maliciou code us baidu chatbot company ha recognis research mov addres fix report vulnerabiliti  concern result call transparency ai model train user become understand perceptive potential problem answer provide cybersecurity research firm check point ha also urg compani upgrade protection ai threaten make attack sophisticat topic conversation uk ai safety summit next week government invit world leader industry giant come together discus opportuniti danger technology", myNewsClassifier.preProcessing()[1]);
        doubMarks += 2;
    }

    @Test
    @Order(7)
    void preProcessing_Last() {
        assertEquals("wa tech whizz left primary school dropp one america top universiti appear spearhead revolution could change liv forever far silicon valley like many billionaire entrepreneur emerg infamou stretch sunny california openai sam altman appear well hi way becom household name freshfac 38yearold would unknown outside tech circl launch hi firm breakthrough chatbot chatgpt spend much hi increasingly preciou time rubb shoulder world leader america recognisable executiv hi path becom remarkable figure realm innovation entrepreneurship chatgpt word ask introduction chief creator mine began hi childhood home missouri eightyearold altman wa gift hi first computer quickly learn use program altman attend john burrough school st loui told new yorker 2016 interview hav hi computer help come term hi sexuality come hi parent wa teenager grow gay midwest 2000 wa awesome th recall find aol chatroom wa transformative secret bad 11 12 familiar dropout school rear view mirror wa time university  stanford les altman made hi way famou california institution study computer science dropp two year follow footstep previou dropoutsturnedtech superstar bill gat mark zuckerberg abandon harvard degre becom two history influential ceo abandon preciou spot one america top universiti seem rite passage country lead tech entrepreneur play right succes story disgrac elizabeth holm whose departure stanford gatecrash silicon valley l wave media attention dissimilar currently given altman hi first postuniversity venture wa smartphone app call loopt let user selectively share realtime location people 30m 16324m wa rais launch company aid fund startup accelerator firm call y combinator list lik airbnb twitch among internet compani ha help establish altman became president y combinator 2014 sale loopt 44m 16335m 2012 also found hi venture capital fund call hydrazine capital attract enough investment nam forb 30 30 list venture capital wasnt busy enough altman also ran reddit grand total eight day amid leadership shakeup 2014 describ hi tenure sort fun rise openai hi time top reddit last eight day hi oversight openai ha last eight year h pretty well said february tweet certainly compar loopt say suck  launch company certain elon musk ran spacex tesla time 2015 two men provid fund alongside lik amazon microsoft totall 1bn 163800m wa run nonprofit noble goal develop ai mak sure doesnt wipe humanity far mission accomplish  altman believ risk since ha become real inde hi tenure openai ha ceas nonprofit ha estimat value 29bn 16323bn thank remarkable succes generative ai tool  chatgpt text dalle imag microsoft bos satya nadella ha describ altman unbelievable entrepreneur bet big bet right openai succes mak hard argue chatgpt amass ten million user within week launch late 2022 wow expert casual observer alike ability pas world toughest exam get job application compose anyth political speech children homework write computer code suddenly concept large language model mean train huge amount text data understand request respond accordingly became someth mainstream buzz term popularity see microsoft invest extra cash openai br tech b search engine office app google also got act bard chatbot china biggest tech compani enter race musk  left openai 2018 due conflict interest tesla work selfdriv ai  ha said want launch hi one openai technology also improv  upgrade dubb gpt4 within month chatgpt release show quickly model develop read morewe ask chatbot help write article  worst fear wonder system provid match  surpass  concern whether spread disinformation mak job redundant government scrambl formulate effective way regulat technology seem destin change world forever perhap eye hi silicon valley contemporari fail act danger creation late altman appear keen participant done worst fear industry cause significant harm world altman told u senate hi assessment government regulation would critical mitigate risk undoubtedly music ear politician never seem overly impress figur tech world read morewho godfather ai  space short week altman met u vice president kamala harri franc emmanuel macron european commission president ursula von der leyen british prime minister rishi sunak  politician share hop fear potential benefit danger ai eu seemingly none impress elon musk runn twitter tiktok manag achieve mostly impossible task unit democrat republican common enemy mark zuckerberg hav struggl repair hi reputation cambridge analytica scandal upstart altman could position become durable tech star hi forebear  case go wrong h previously admitt prepper  someone stockpil everyth gun medicine worst befall u let hope h overly cautiou", myNewsClassifier.preProcessing()[myNewsClassifier.myHTMLs.length - 1]);
        doubMarks += 2;
    }

    @Test
    @Order(8)
    void buildVocabulary_TestArray() {
        assertEquals(5, myNewsClassifier.buildVocabulary(arrayTest).length);
        doubMarks += 1;
    }

    @Test
    @Order(9)
    void buildVocabulary_TestArrayContent() {
        String[] resultArray = myNewsClassifier.buildVocabulary(arrayTest);
        StringBuilder mySB = new StringBuilder();
        for (String result : resultArray) {
            mySB.append(result).append(",");
        }
        mySB.delete(mySB.length() - 1, mySB.length());
        assertEquals("Hello,World,I,Love,This", mySB.toString());
        doubMarks += 1;
    }

    @Test
    @Order(10)
    void buildVocabulary_RealData() {
        myNewsClassifier.newsCleanedContent = myNewsClassifier.preProcessing();
        assertEquals(2760, myNewsClassifier.buildVocabulary(myNewsClassifier.newsCleanedContent).length);
        doubMarks += 3;
    }

    @Test
    @Order(11)
    void buildVocabulary_RealDataContent() {
        myNewsClassifier.newsCleanedContent = myNewsClassifier.preProcessing();

        String[] resultArray = myNewsClassifier.buildVocabulary(myNewsClassifier.newsCleanedContent);
        StringBuilder mySB = new StringBuilder();
        for (String result : resultArray) {
            mySB.append(result).append(",");
        }
        mySB.delete(mySB.length() - 1, mySB.length());

        assertEquals("rishi,sunak,ha,said,ai,could,transformative,british,society,industrial,revolution,prime,minister,talk,potential,technology,speech,mark,government,report,opportuniti,threat,present,ahead,addres,sky,new,ask,chatgpt,predict,wa,likely,say,politic,latest,pm,copilot,job,openai,chatbot,train,january,2022,mr,enter,number,10,told,,bas,knew,would,risk,world,approach,regulation,economic,implication,exchancellor,may,highlight,benefit,challeng,pos,thi,include,discussion,creation,displacement,ne,reskill,drive,efficiency,innovation,add,prediction,prov,pretty,fair,reflection,stance,similarly,impact,keen,stres,create,rather,cost,people,exist,everybody,country,insist,balanc,given,hi,conservative,party,background,emphasise,importance,regulatory,ensur,stifl,nail,one,despite,concern,uk,alway,encourag,different,taskforce,safety,institute,help,ensure,model,undergo,proper,assessment,stay,also,wont,hide,misinformation,bia,far,profound,danger,like,humanity,los,control,ethical,thought,mention,privacy,decisionmak,tory,leader,might,argue,development,guidelin,standard,operat,transparently,ethically,cite,surround,though,noth,specific,answer,question,restriction,put,developer,suggest,speak,tech,next,week,bletchley,park,summit,right,compani,homework,collaboration,international,nature,call,global,countri,establish,common,best,practic,aid,money,must,work,available,confirm,china,invit,opposition,within,education,skill,emphasi,workforce,equipp,necessary,alongside,harnes,wasnt,media,really,got,topic,bring,chang,market,way,prepare,via,whether,school,college,apprenticeship,toward,bottom,list,focu,discus,uncontroll,maliciou,emphasis,rigorou,test,oversight,measur,prevent,misuse,want,fear,head,includ,possibility,make,easier,build,chemical,weapon,allow,terrorist,spread,even,greater,scale,lose,altogether,everyth,know,public,engagement,advocate,increas,consultation,event,message,much,trust,u,protect,interest,cooperat,start,trick,produc,code,us,launch,cyberattack,study,found,tool,similar,written,content,user,command,hav,enormou,amount,text,data,acros,internet,design,protection,place,along,issu,bias,bad,actor,turn,alternativ,purposefully,creat,cyber,crime,dark,web,wormgpt,expert,warn,develop,largescale,attack,researcher,university,sheffield,vulnerabiliti,mainstream,option,destroy,databas,steal,personal,information,br,servic,platform,chinese,company,baidu,computer,science,phd,student,xutan,peng,col,productivity,conversational,bot,research,show,read,moremartin,lewi,frighten,scam,videoai,doesnt,capability,take,microsoft,bos,aigenerat,harmful,generative,inadvertently,get,fact,wrong,potentially,damag,without,realis,nurse,use,write,navigat,database,patient,record,many,cas,scenario,cause,seriou,management,fault,receiv,dur,scientist,themselv,able,recognis,mov,fix,result,transparency,become,understand,perceptive,problem,provide,cybersecurity,firm,check,point,urg,upgrade,threaten,sophisticat,conversation,industry,giant,come,together,bori,johnson,covid,inquiry,surpris,h,manipulat,push,implement,first,lockdown,evidence,former,submitt,august,publish,reflect,harm,good,com,close,time,gave,person,dominic,cumming,chief,aide,decision,made,early,day,pandemic,claim,tend,resistant,idea,late,february,march,criticis,propalestine,protest,armistice,document,ever,gam,anyth,effect,went,doubt,loud,tim,believe,duty,pragmatic,responsible,debate,colleagu,rock,hard,devil,deep,blue,sea,morejohnson,blow,hairdryer,nose,kill,claimsinquiry,reveal,toxic,destructive,atmosphere,10civil,servant,coronaviru,expect,give,later,year,simply,choic,weigh,choice,worri,caus,action,took,covid19,damage,viru,attach,highest,priority,human,life,health,possible,avoid,think,done,vaccine,drug,highly,unlikely,click,subscribe,daily,wherever,podcast,journalist,2020,long,bulli,story,totally,false,februarymarch,overwhelmingly,hostile,tri,support,better,follow,treatment,depression,doctor,improve,mak,primary,care,capable,gender,social,clas,sometim,factor,need,asses,stem,practice,team,israel,two,version,35,4,brief,description,hypothetical,symptom,initial,eight,distinct,character,vari,socioeconomic,statu,severity,sadnes,sleep,appetite,three,lead,appointment,well,diagnosi,mild,moderate,f,compar,1249,french,73,women,chatgpt35,recommend,psychotherapy,95,chatgpt4,975,however,43,opt,48,plu,prescrib,325,severe,445,method,72,100,respectively,came,type,medicine,favour,exclusive,antidepressant,74,68,lean,mix,anxiolyticshypnotic,674,morechatgpt,creator,express,underregulationbritish,judge,admit,jolly,useful,rul,enhance,healthcare,finding,journal,family,community,align,accept,manag,observ,among,physician,demonstrat,precision,adjust,comply,clinical,refine,recommendation,consider,chatgptstyle,assist,cybercriminal,let,hacker,significantly,larger,brand,equivalent,popular,produce,humanlike,unlike,built,stop,misus,discover,slash,reform,daniel,kelley,advert,malware,cybercrime,forum,offer,significant,ability,large,proces,massive,quickly,mean,rack,million,month,last,november,succes,prompt,major,language,googl,bard,meta,llama,2,tak,subscription,acces,webpage,receive,repli,mainly,phish,email,busines,compromise,form,attempt,employe,transferr,sensitive,run,persuasive,executive,employee,pay,fraudulent,invoice,draw,wide,range,believable,impersonate,system,moreputt,dat,appsthe,author,embrac,novel,facilitate,direct,pose,indirect,attacker,target,business,verification,scann,word,urgent,wire,transfer,often,improv,staff,identify,admitt,part,case,lord,justice,birs,summarise,area,law,familiar,copy,past,response,court,appeal,specialis,intellectual,property,great,efficient,conference,gazette,telegraph,summary,paragraph,judgment,stress,rely,prone,someth,known,hallucination,stuff,earlier,york,lawyer,fin,legal,fake,citation,generat,find,precedent,client,injury,airline,shown,completely,felt,confident,recognise,acceptable,im,full,responsibility,try,somebody,else,judicial,office,spokesperson,deliver,core,aspect,judg,draft,judiciary,regularly,review,keep,legislation,senior,civil,chickenpox,herd,immunity,accord,messag,handl,sir,christopher,wormald,remain,department,dhsc,exchang,sedwill,service,musk,hour,meet,sent,12,dont,co,internalis,yet,distinction,minimis,mortality,gett,inde,presumably,wave,preferably,sic,dry,etc,respond,exactly,every,quite,lot,taken,change,plann,mitigate,lock,morehancock,decide,live,diejohnson,blam,b,block,lockdownkey,whatsapp,14,thenhealth,secretary,matt,hancock,wrote,plan,expertise,worldlead,scientific,concept,goal,strategy,vulnerable,nh,contain,delay,23,enact,political,appointee,repeatedly,complain,babbl,god,tuesday,go,tv,explain,old,parti,sooner,sort,th,post,today,reason,123,tell,hold,meben,warner,charge,holy,truly,atrociou,reference,argu,state,advice,loose,reply,advisory,group,emergenci,sage,ultimately,die,hospital,overwhelm,england,simon,steven,official,saw,accus,truth,peopl,death,suppli,statement,stat,position,situation,medical,profession,fortunately,horrible,dilemma,never,crystallis,mock,certainly,discourage,individual,exceptional,circumstanc,decid,provid,serv,greatest,extent,kind,nuclear,level,overconfidence,helen,macnamara,street,releas,sack,stage,sit,mp,li,dozen,seen,exaide,psychopathinquiry,crisi,critical,cabinet,occasional,moment,tension,flashpoint,probably,inevitable,course,15month,brought,look,permanent,overoptimistic,happen,overpromis,small,actually,untruth,bombshell,cummings,yesterday,heard,calm,devastat,mcnamara,deputy,second,woman,listen,respect,set,believ,deadly,sexist,culture,updat,m,describ,adviser,fixat,brexit,fail,ripp,northern,italy,actively,laugh,prospect,sitt,italian,overreact,parent,wonder,became,increasingly,brush,aside,midmarch,walk,disaster,playbook,deal,awful,experienc,football,match,theyd,difficulti,fac,children,morekey,inquiryjohnson,covidno,complete,chao,hit,l,lack,top,female,april,compil,hadnt,pregnancy,abortion,childcare,ppe,didnt,fit,majority,domestic,abuse,largely,ignor,conclude,issue,liv,another,director,underdiscuss,race,ethnic,minoriti,harder,disproportionately,crowd,key,worker,subject,vitriolic,fourletter,handcuff,disappoint,act,violent,misogynist,invisible,confidence,thing,werent,true,giv,jarr,behaviour,mim,play,cricket,bowl,knock,away,unfold,example,unbelievably,bullish,dismissive,tenure,breezy,dismiss,warning,outbreak,european,shock,scen,north,grew,meeting,emerge,pattern,reassur,absolutely,fine,andrew,oconnor,kc,back,y,natur,stuck,return,suffer,eerily,empty,although,apparently,lov,batsman,outside,room,partly,deploy,spokesman,throughout,special,hair,dryer,blockbuster,inperson,grill,pag,since,vocal,critic,outlin,uncomplimentary,occurr,recount,incident,low,circulat,video,guy,chri,whitty,patrick,vallance,remov,youtube,uncertainty,source,stori,rais,mask,opposite,autumn,sick,front,dead,cat,distract,switch,campaign,deadcat,phase,divorce,finalise,grappl,financial,girlfriend,spend,flat,exgirlfriend,accusation,current,announcement,shakespeare,book,britain,figur,allegedly,martin,reynold,lee,cain,module,examin,governance,previously,bruis,testimoni,appear,committe,2021,joint,committee,variou,blog,painful,interview,mostly,appointe,executiv,proceeding,1030am,monday,10am,wednesday,thursday,8226,principal,private,minister8226,imran,shafi,communication,108226,stuart,glassborow,secretary8226,dr,david,halpern,president,behavioural,insight,team8226,baron,birmingham,ceo,england8226,care8226,professor,yvonne,doyle,account,chaotic,grip,unprecedent,modern,politician,involv,date,glean,behind,power,structur,particular,especially,period,hospitalis,criticism,levell,wield,men,left,end,numerou,currency,chancellor,george,osborne,understood,stagger,disclose,real,morecovid,politiciansmessag,govt,infight,referr,eat,scheme,session,leadership,gagg,negative,influence,dangerou,rubbish,huge,admirer,realm,light,partygate,nam,scandal,marty,notoriou,send,booze,garden,see,ethic,gathering,due,leav,held,june,controversy,alleg,depart,investigat,morewho,fir,line,findingskey,seal,fate,rol,powerful,successful,election,2019,ran,pres,operation,sun,mirror,runn,seek,positive,communiti,organisation,thrive,prof,phe,oversaw,replac,structure,rain,tapp,lightly,windowpan,london,apartment,steady,rhythm,musing,little,grey,cell,peculiar,letter,arriv,delicately,note,rise,intrigu,puzzle,hercule,poirot,began,elegant,script,implore,lend,unparallel,matter,utmost,secrecy,enigma,art,amalgamation,shadow,crescendo,whisper,await,open,starr,detective,agatha,christi,famou,grabb,attention,cipher,midnight,mind,artificial,intelligence,title,craft,entire,rest,fan,centuryold,whose,popularity,endur,beyond,1976,compos,demand,tantalis,estate,jam,bond,sherlock,holm,happily,commission,writer,reader,mis,marple,adventur,couldnt,enjoyment,passable,imitation,existential,livelihood,ajay,chowdhury,awardwinn,opportunity,reach,height,ther,around,replace,experiment,writ,six,seven,ago,slightly,scary,fantastic,editor,fascination,cofound,music,discovery,app,shazam,bought,apple,400m,163300m,kamil,rahman,seri,inspir,indian,root,won,several,award,fifth,entry,spy,role,bounce,generate,outcom,certain,rephrase,section,pac,image,generator,midjourney,visualise,dramatic,chase,scene,cave,island,elephanta,heritage,site,coast,mumbai,spark,whatever,thrown,decent,expand,combination,submit,shame,contemporari,jane,friedman,contend,purportedly,name,falsely,amazon,technically,fall,foul,copyright,trademark,promis,marvel,formula,100000,endors,america,guild,material,comedian,sarah,silverman,sue,infringement,imitate,driv,force,ongo,strik,hollywood,theatre,lisa,holdsworth,chair,constitute,theft,longer,safeguard,becom,devic,serve,indulge,mediocrity,beige,creativity,sequel,32,film,oppenheimer,barbie,extremely,possibly,clear,genie,bottle,adapt,main,google,interactive,invitation,east,short,puzzl,countdown,clock,sound,commuter,20,minut,free,website,heavy,product,placement,nod,gmail,map,clever,eyeroll,depend,cynicism,proof,quick,accessible,gamer,overall,effective,whole,pixel,fold,phone,optimis,advantage,booklike,screen,production,spe,artwork,move,rub,graphic,morehow,transform,future,crimemusic,label,songsgoogle,still,se,utopia,side,corporation,creativ,continu,dance,elegy,windowpane,whirr,satisfaction,labyrinthine,corridor,deception,illuminat,dispell,sought,refuge,enigmatic,corner,soul,thank,ill,stick,christie,humza,yousaf,pledg,scottish,fully,investigate,hand,order,solicitor,general,ruth,charteri,assuranc,notic,compli,relevant,counsel,jamie,dawson,relat,informal,dougla,ros,holyrood,griev,famili,deserve,refus,request,insult,display,break,crucially,voluntarily,excuse,withheld,everyone,deserv,seriously,board,internally,stand,pass,morewhatsapp,incorrect,continue,appropriate,process,routinely,jibe,westminster,exprime,successor,fixedpenalty,breach,broken,undoubtedly,cooperate,commissioner,delet,deem,criminal,offence,disclos,freedom,foi,policy,clearly,subsequently,logistic,daytoday,basi,21,indicat,morning,hear,requisite,paperwork,share,shortly,step,satisfy,met,obligation,officer,dame,angela,mclean,john,edmund,september,pair,gaza,ground,invasion,ministry,defence,someone,prominent,sceptic,carl,heneghan,fwit,modeller,edward,statistic,colleague,youd,hugo,keith,comment,relation,discount,diner,restaurant,pub,cautiously,contribut,infection,honestly,wouldnt,epidemiology,population,hygiene,tropical,angry,foot,brake,eas,accelerator,seem,perverse,45000,di,blame,optic,sector,epidemiological,appli,ate,apply,bereav,naomi,fulop,already,thousand,unnecessary,pressure,plung,brutal,unbearable,reckles,unscientific,callou,mum,faith,hospitality,400000,furlough,whilst,safely,restor,consumer,local,takeup,positively,correlat,rat,english,region,owner,facebook,announc,rival,gpt4,fore,release,base,generation,40,1,decad,satellite,navigation,virtual,assistant,siri,usher,era,term,algorithm,audio,imag,transparent,guard,stag,search,engine,bingchat,freely,download,modify,moremark,zuckerberg,pictur,ufc,champion,elon,boutcan,night,space,rapidly,advanc,solv,fast,cloud,comput,azure,hugg,face,opensource,enabl,unlock,progres,ecosystem,opensourc,oli,buckley,anglia,important,publicly,technological,capacity,shortage,ready,difference,least,procur,piec,exploit,untoward,mhairi,aitken,fellow,alan,tur,national,opennes,extend,worry,wider,democratis,instead,marginalis,experience,worst,profit,eyecatch,profile,picture,tast,opinion,pineapple,pizza,profil,swipe,hop,mutual,lo,behold,barely,youve,excitement,equall,flirty,funny,chat,feel,constant,overthink,neo,cheng,vlogger,downward,spiral,handle,journalism,33yearold,canadian,digital,wingman,tip,valentin,cheesy,chatup,lin,vegetable,cutecumber,creepy,photo,smile,warm,thumb,enjoy,substantial,reportingthe,regulate,100word,tinder,bio,introvert,heart,food,carri,summer,tone,soppy,romance,snappy,concise,pro,aquariu,amateur,youtuber,summerlov,meateater,weird,sense,humour,radiohead,coldplay,justin,bieber,partner,welllit,headshot,shot,candid,instagram,page,anyone,bit,formal,flowery,politenes,spad,imagine,tir,learn,youre,stickler,correct,grammar,punctuation,capital,online,impression,inauthentic,dropp,jaw,lol,propos,glad,grab,drink,laughter,teacher,chatgptrecruitment,unwittingly,friend,meetup,moremost,relationship,recent,survey,kaspersky,inner,circle,half,single,51,sustain,multiple,lecturer,owen,touch,44yearold,door,drain,eliminate,catfish,jay,dodd,cofounder,bonker,centre,hate,enthusiast,naturally,putt,promot,circl,aibas,57,respondent,sett,dishonest,scamgoogle,comparable,coach,hayley,quinn,cautiou,love,sign,respons,sentenc,everything,perfect,capp,properly,paranoid,les,convinc,genuine,detriment,load,r,flag,suspiciously,lowr,brave,terrify,competition,watchdog,investigation,federal,trade,ftc,begun,examination,maker,regulator,detail,security,upgrad,realtime,knowledgeelon,longawait,startup,bid,washington,engag,unfair,deceptive,founder,sam,altman,disappointment,leak,tweet,super,safe,proconsumer,probe,challenge,illegally,dataset,illegal,copi,167000,contract,healthcarerelat,assess,limit,conclud,transmission,virus,affect,obviou,hasnt,oxford,ben,cooper,145,acute,represent,combin,356,bed,miss,classifi,nearly,17000,16950,class,definite,link,19000,19355,connection,calculat,four,26,discharg,projection,estimat,hospitalacquir,95000,admission,geographical,variation,incidence,northwest,lowest,south,west,morebori,wife,carrie,chargeup,200000,monitor,winterjohnson,availability,reduc,heat,building,vaccination,driver,lower,reduce,fewer,coronavirusrelat,gone,riley,imperial,9,agency,subsequent,16,home,view,stringent,distanc,introduc,witnes,elaborate,labconfirm,icu,intensive,unit,travel,history,network,handful,indicate,progress,epidemic,weve,terrible,bind,recession,achiev,rapid,reduction,16th,peak,curve,meanwhile,neil,ferguson,modell,instrumental,deni,stepp,shut,member,determination,associat,reality,complex,consequenc,trend,worstcase,65000,briton,500000,tackle,declar,11,230000,covidrelat,cameron,focus,beginn,moreup,winter,track,ratescovid,win,nobel,prize,thinktank,foundation,constrain,investment,resilience,hamper,october,condition,beside,gulf,war,syndrome,repeat,remark,cant,hedge,bet,brightl,respiratory,rachael,evan,associate,honorary,consultant,leicester,high,friday,deeply,sadden,watch,either,compell,voice,unbelievable,influenc,activity,phenomenon,reaction,emotive,obviously,dreadful,illnes,begin,clinician,feed,anthony,metzer,behalf,kid,initially,seniormost,decisionmaker,diminish,disbeliev,existence,arent,undat,45,predominantly,closely,universal,final,hundr,exhaust,tolerat,p,junior,scaleddown,threeyear,2023,2024,32000,lateral,flow,rate,infect,coordinat,ukhsa,previou,gold,identifi,broadly,representative,smaller,original,analytic,surveillance,collect,valuable,delight,policymaker,inform,internationally,reintroduc,positivity,detect,newsvaccine,prizecovid,politiciansdrug,treat,mutation,statistician,emma,rourke,administer,robust,regular,analysi,mrna,vaccin,accolade,prestigiou,katalin,kariko,hungary,drew,weissman,groundbreak,fundamentally,interact,immune,laureat,panel,pfizerbiontech,moderna,messenger,rna,genetic,instruction,body,spike,protein,fight,expos,szeg,adjunct,pennsylvania,vice,replacement,biontech,german,weismann,perform,prizewinn,1998,wait,ration,photocopy,machine,ensu,piqu,immunologist,thoma,perlmann,assembly,contact,basic,rickard,sandberg,karolinska,sav,disease,burden,societi,paul,hunter,game,changer,credit,jab,worse,generally,slow,depth,sayplan,restart,stockholm,sweden,kick,five,unveil,priz,1901,swedish,dynamite,inventor,wealthy,businessman,alfr,achievement,physic,chemistry,literature,peace,carry,cash,kronor,163820000,bequest,1896,exaggerat,flaw,unnecessarily,anxiety,fatigue,brain,fog,chest,pain,shortnes,breath,officially,postacute,sequelae,pasc,denmark,usa,publication,overestimat,prevalence,overly,broad,definition,inappropriate,methodological,upper,increase,misdiagnos,diversion,fund,requir,evidencebas,paper,excellence,nice,none,causal,suspect,consistent,imprecise,200,studi,sampl,addition,appropriately,criteria,continuou,sarscov2,consideration,baseline,characteristic,physical,mental,contribute,postcovid,sufficient,followup,morerisk,longterm,organ,studypatient,lost,identity,independence,joydoctor,forc,cut,diagnostic,umbrella,narrowly,define,biomedicine,ideal,misdiagnosi,odd,conclusion,adam,jacob,biostatistical,premier,sensible,imperfect,therefore,discontinu,19,staggeringly,lucky,healthy,unlucky,disability,molnupiravir,genome,antiviral,mapp,usual,rui,cambridge,belong,mutate,fatally,weaken,mutat,franci,crick,liverpool,cape,town,older,age,almost,third,30,theo,sanderson,postdoctoral,diversity,surviv,viral,persistent,antiviralinduc,morelong,organsunusual,man,leg,bluehow,ruin,restrict,stopp,grow,certificate,organization,whizz,universiti,spearhead,forever,silicon,valley,billionaire,entrepreneur,emerg,infamou,stretch,sunny,california,household,freshfac,38yearold,unknown,breakthrough,preciou,rubb,shoulder,recognisable,path,remarkable,figure,entrepreneurship,introduction,mine,childhood,missouri,eightyearold,gift,program,attend,burrough,st,loui,yorker,2016,sexuality,teenager,gay,midwest,2000,awesome,recall,aol,chatroom,secret,dropout,rear,stanford,institution,footstep,dropoutsturnedtech,superstar,bill,gat,abandon,harvard,degre,influential,spot,rite,passage,disgrac,elizabeth,departure,gatecrash,dissimilar,currently,postuniversity,venture,smartphone,loopt,selectively,location,30m,16324m,combinator,lik,airbnb,twitch,2014,sale,44m,16335m,2012,hydrazine,attract,enough,forb,busy,reddit,grand,total,amid,shakeup,fun,suck,spacex,tesla,2015,totall,1bn,163800m,nonprofit,noble,sure,wipe,mission,accomplish,ceas,value,29bn,16323bn,dalle,satya,nadella,big,amass,ten,wow,casual,observer,alike,pas,toughest,exam,application,compose,suddenly,accordingly,buzz,invest,extra,biggest,2018,conflict,selfdriv,dubb,morewe,article,surpass,disinformation,redundant,scrambl,formulate,regulat,destin,perhap,eye,participant,senate,ear,impress,godfather,kamala,harri,franc,emmanuel,macron,ursula,von,der,leyen,eu,seemingly,twitter,tiktok,achieve,impossible,task,democrat,republican,enemy,struggl,repair,reputation,analytica,upstart,durable,star,forebear,prepper,stockpil,gun,befall,hope", mySB.toString());
        doubMarks += 5;
    }

    @Test
    @Order(12)
    void calculateTFIDF_Original() {
        String[] corpusText = {"harry_potter is a student at hogwarts", "voldemort used to be a student at hogwarts but graduated already", "the parents of harry_potter studied at hogwarts as well"};
        myNewsClassifier.newsTFIDF = myNewsClassifier.calculateTFIDF(corpusText);
        StringBuilder mySB = new StringBuilder();
        DecimalFormat decimalFormat = new DecimalFormat("#.#####");
        for (int i = 0; i < myNewsClassifier.newsTFIDF.length; i++) {
            for (int j = 0; j < myNewsClassifier.newsTFIDF[i].length; j++) {
                mySB.append(decimalFormat.format(myNewsClassifier.newsTFIDF[i][j])).append(" ");
            }
            mySB.append("\r\n");
        }
        assertEquals("0.23424 0.34977 0.23424 0.23424 0.16667 0.16667 0 0 0 0 0 0 0 0 0 0 0 0 0 \r\n" + "0 0 0.12777 0.12777 0.09091 0.09091 0.19078 0.19078 0.19078 0.19078 0.19078 0.19078 0.19078 0 0 0 0 0 0 \r\n" + "0.15616 0 0 0 0.11111 0.11111 0 0 0 0 0 0 0 0.23318 0.23318 0.23318 0.23318 0.23318 0.23318 \r\n", mySB.toString());
        doubMarks += 2;
    }

    @Test
    @Order(13)
    void calculateTFIDF_RealData() {
        myNewsClassifier.newsCleanedContent = myNewsClassifier.preProcessing();
        myNewsClassifier.newsTFIDF = myNewsClassifier.calculateTFIDF(myNewsClassifier.newsCleanedContent);
        StringBuilder mySB = new StringBuilder();
        DecimalFormat decimalFormat = new DecimalFormat("#.#####");
        for (int i = myNewsClassifier.newsTFIDF.length - 1; i < myNewsClassifier.newsTFIDF.length; i++) {
            for (int j = 0; j < myNewsClassifier.newsTFIDF[i].length; j++) {
                mySB.append(decimalFormat.format(myNewsClassifier.newsTFIDF[i][j])).append(" ");
            }
            mySB.append("\r\n");
        }
        assertEquals("0.00371 0.00305 0.0119 0.00291 0.01186 0.0034 0.00499 0.00402 0 0 0.00443 0.00289 0.00248 0 0.00289 0.00548 0.00443 0.00742 0.00497 0 0 0 0 0 0 0 0.00192 0.00434 0.01369 0 0.0131 0 0.00192 0 0 0 0 0.00691 0.02591 0.00822 0.00305 0 0.00443 0 0.00443 0 0 0.00454 0.01961 0 0 0.00434 0.00474 0.01303 0 0.00402 0 0 0 0 0 0.00402 0 0 0 0 0 0.00443 0 0 0 0 0 0.00443 0 0 0 0.00443 0 0 0 0 0 0.00443 0 0 0 0 0.00163 0 0 0.00289 0 0 0.00324 0.04762 0 0 0 0 0 0 0 0 0 0.00651 0 0.00305 0 0 0 0 0 0 0 0.00624 0 0.00648 0 0 0.00499 0 0.00907 0 0 0 0 0.00742 0 0.00885 0.00261 0.00443 0 0 0 0 0 0 0 0 0.00345 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02815 0 0.00497 0 0 0 0.00691 0.00742 0.00443 0 0 0 0.00866 0 0 0.00443 0.00443 0 0 0.00371 0 0 0.00184 0 0 0.00499 0 0 0.0061 0 0 0 0 0 0 0.00402 0 0.00402 0.00402 0 0.00371 0 0 0 0 0.0068 0 0 0.00305 0.01036 0 0 0 0 0.00742 0 0 0 0 0 0 0 0.00499 0 0 0 0.00248 0.01207 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0.00227 0 0.00915 0 0.00371 0 0 0 0 0.00443 0 0.01619 0 0.00305 0.00289 0.00345 0 0 0 0.00691 0 0.0061 0 0.00345 0.00742 0.00289 0 0.00499 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0.00402 0 0.00648 0 0 0 0.00289 0 0 0.00499 0 0 0 0 0 0 0.00443 0 0 0 0.00804 0 0.01997 0.00305 0 0 0 0 0 0 0 0 0 0.00274 0.00303 0 0 0 0 0 0.00402 0 0 0.01328 0.00499 0 0 0.00402 0 0.00227 0 0.00324 0 0 0 0 0 0.00274 0.0061 0 0 0 0 0.00261 0 0 0.00345 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00691 0.00324 0 0 0 0 0.00804 0 0 0 0.00443 0 0 0 0.00499 0 0.00691 0 0 0 0 0 0 0.01498 0 0 0 0.00434 0 0 0 0 0 0 0 0.00402 0 0 0 0.00832 0 0 0 0 0.00324 0 0 0.00345 0 0.00497 0 0 0 0 0 0.00999 0.00371 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0061 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0.00289 0 0 0 0 0.00822 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00782 0 0 0 0 0 0 0 0 0.01328 0 0 0 0 0 0 0 0 0 0 0.00289 0 0.00497 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00305 0 0 0 0 0 0 0 0 0 0 0.00345 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0.00305 0 0 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00402 0.00499 0.00371 0 0 0.00999 0.00402 0 0.00324 0.00274 0.00691 0 0.01207 0 0 0.00371 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0 0 0 0.00324 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0.00443 0 0 0.00443 0 0.00305 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00305 0 0 0 0 0 0 0 0 0 0 0 0.00345 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00305 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01113 0 0 0 0.00499 0 0 0 0 0 0 0 0 0.00443 0 0.00371 0 0 0 0 0.00345 0 0 0 0 0 0.00691 0 0.00499 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0.00499 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0.00289 0 0 0 0 0 0.00443 0.00371 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0.00402 0 0 0.00443 0 0 0 0 0 0.00742 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0.0061 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0.00499 0.00499 0.00885 0.00443 0 0 0 0 0 0 0 0 0 0 0.00402 0 0 0 0.00499 0 0 0 0 0 0 0.00345 0 0.01113 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0.00804 0 0 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0 0.00999 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0.00324 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0.00443 0 0 0.01207 0 0 0 0 0 0 0 0.00443 0.00499 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01328 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0.00742 0 0 0 0 0 0 0 0 0 0.00371 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0.00402 0 0.00499 0 0 0.00499 0.00499 0 0 0 0 0 0.00289 0 0 0.00443 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0 0.00443 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0.00443 0.00499 0 0 0 0 0 0 0 0 0 0 0.00499 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0.00804 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0.00499 0 0.00443 0 0 0 0 0 0 0 0 0 0 0.01498 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01498 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0 0.00443 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0.01328 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0.00885 0 0 0.00499 0 0 0 0.00443 0.00499 0 0 0 0 0 0.00999 0 0 0 0.00999 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.01328 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0.01498 0 0 0 0.00999 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0.00499 0 0 0 0 0 0 0.00499 0.06491 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00402 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0.00443 0 0 0 0 0 0 0 0 0.00443 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00443 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0.00999 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00999 0 0 0 0 0 0 0 0 0.01498 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00999 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.00499 0 0 0.00596 0.01193 0.00596 0.01193 0.01789 0.01789 0.00596 0.01789 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01789 0.00596 0.01789 0.00596 0.00596 0.00596 0.00596 0.01193 0.01193 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.01193 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 0.00596 \r\n", mySB.toString());
        doubMarks += 8;
    }

    @Test
    @Order(14)
    void newsSimilarity() {
        myNewsClassifier.newsCleanedContent = myNewsClassifier.preProcessing();
        myNewsClassifier.newsTFIDF = myNewsClassifier.calculateTFIDF(myNewsClassifier.newsCleanedContent);

        double[][] expectedArray = myNewsClassifier.newsSimilarity(2);

        StringBuilder mySB_Index = new StringBuilder();
        StringBuilder mySB_CS = new StringBuilder();
        DecimalFormat decimalFormat = new DecimalFormat("#.#####");

        for (int i = 0; i < expectedArray.length; i++) {
            mySB_Index.append(expectedArray[i][0]).append(",");
            mySB_CS.append(decimalFormat.format(expectedArray[i][1])).append(",");
        }
        mySB_Index.delete(mySB_Index.length() - 1, mySB_Index.length());
        mySB_CS.delete(mySB_CS.length() - 1, mySB_CS.length());

        assertEquals("2.0,10.0,19.0,11.0,20.0,8.0,9.0,7.0,6.0,0.0,14.0,13.0,25.0,18.0,12.0,24.0,23.0,16.0,21.0,22.0,17.0,1.0,5.0,3.0,15.0,4.0", mySB_Index.toString());
        doubMarks += 5;

        assertEquals("1,0.29582,0.28882,0.2576,0.22437,0.22351,0.22295,0.22248,0.21198,0.15679,0.13364,0.13362,0.10771,0.09716,0.09666,0.09584,0.09479,0.09106,0.08006,0.07798,0.06896,0.05112,0.04511,0.04332,0.03778,0.0364", mySB_CS.toString());
        doubMarks += 9;

        assertEquals("2 1 COVID inquiry: Boris Johnson says he has reflected on whether lockdowns 'did more harm than good'\r\n" + "10 0.29582 Boris Johnson asked if blowing hairdryer up nose could 'kill COVID', Cummings claims\r\n" + "19 0.28882 COVID inquiry: There could have been fewer coronavirus-related deaths with earlier lockdown, scientist says\r\n" + "11 0.2576 Dominic Cummings, Lee Cain and Martin Reynolds to give evidence to COVID Inquiry next week\r\n" + "20 0.22437 Boris Johnson asked if government 'believes in long COVID', coronavirus inquiry hears\r\n" + "8 0.22351 Calm takedown of Johnson's COVID Downing Street argues 'sexist' culture may have cost lives\r\n" + "9 0.22295 COVID inquiry: Hancock mimicking cricket batsman showed 'nuclear levels' of overconfidence - former top official\r\n" + "7 0.22248 COVID inquiry: Matt Hancock wanted to decide 'who should live and die' if NHS overwhelmed in pandemic\r\n" + "6 0.21198 COVID inquiry: Civil servants 'wanted' people to get coronavirus days before lockdown was announced\r\n" + "0 0.15679 ChatGPT predicted Rishi Sunak's speech about AI - here's how it did\r\n" + "14 0.13364 Rishi Sunak dubbed 'Dr Death' in COVID WhatsApp messages\r\n" + "13 0.13362 Scotland's First Minister Humza Yousaf to 'fully investigate' concerns messages not handed to UK COVID Inquiry\r\n" + "25 0.10771 Who is Sam Altman? The OpenAI boss and ChatGPT guru who is now one of AI's biggest players\r\n" + "18 0.09716 COVID-19: 167,000 people may have caught coronavirus in hospital in England during second wave, study suggests\r\n" + "12 0.09666 The author embracing AI to help write novels - and why he's not worried about it taking his job\r\n" + "24 0.09584 Molnupiravir: COVID drug linked to virus mutations, scientists say\r\n" + "23 0.09479 Long COVID risks are 'distorted by flawed research', study finds\r\n" + "16 0.09106 Creepy catfish or useful co-pilot: Can AI help with dating app success?\r\n" + "21 0.08006 Up to 200,000 people to be monitored for COVID this winter to track infection rates\r\n" + "22 0.07798 COVID vaccine scientists win Nobel Prize in medicine\r\n" + "17 0.06896 OpenAI's ChatGPT under investigation by Federal Trade Commission\r\n" + "1 0.05112 ChatGPT and other chatbots 'could be used to help launch cyberattacks', study warns\r\n" + "5 0.04511 British judge admits using 'jolly useful' ChatGPT to write ruling\r\n" + "3 0.04332 AI chatbots could help doctors treat depression, researchers suggest, after study using ChatGPT\r\n" + "15 0.03778 AI: Facebook owner Meta announces its rival to ChatGPT will be free to use\r\n" + "4 0.0364 WormGPT: AI tool designed to help cybercriminals will let hackers develop attacks on large scale, experts warn", myNewsClassifier.resultString(expectedArray, 26));
        doubMarks += 1;
    }

    @Test
    @Order(15)
    void groupingResults() {
        myNewsClassifier.newsCleanedContent = myNewsClassifier.preProcessing();
        myNewsClassifier.newsTFIDF = myNewsClassifier.calculateTFIDF(myNewsClassifier.newsCleanedContent);
        assertEquals("There are 10 news in Group 1, and 16 in Group 2.\r\n" + "=====Group 1=====\r\n" + "[1] - ChatGPT predicted Rishi Sunak's speech about AI - here's how it did\r\n" + "[2] - ChatGPT and other chatbots 'could be used to help launch cyberattacks', study warns\r\n" + "[4] - AI chatbots could help doctors treat depression, researchers suggest, after study using ChatGPT\r\n" + "[5] - WormGPT: AI tool designed to help cybercriminals will let hackers develop attacks on large scale, experts warn\r\n" + "[6] - British judge admits using 'jolly useful' ChatGPT to write ruling\r\n" + "[13] - The author embracing AI to help write novels - and why he's not worried about it taking his job\r\n" + "[16] - AI: Facebook owner Meta announces its rival to ChatGPT will be free to use\r\n" + "[17] - Creepy catfish or useful co-pilot: Can AI help with dating app success?\r\n" + "[18] - OpenAI's ChatGPT under investigation by Federal Trade Commission\r\n" + "[26] - Who is Sam Altman? The OpenAI boss and ChatGPT guru who is now one of AI's biggest players\r\n" + "=====Group 2=====\r\n" + "[3] - COVID inquiry: Boris Johnson says he has reflected on whether lockdowns 'did more harm than good'\r\n" + "[7] - COVID inquiry: Civil servants 'wanted' people to get coronavirus days before lockdown was announced\r\n" + "[8] - COVID inquiry: Matt Hancock wanted to decide 'who should live and die' if NHS overwhelmed in pandemic\r\n" + "[9] - Calm takedown of Johnson's COVID Downing Street argues 'sexist' culture may have cost lives\r\n" + "[10] - COVID inquiry: Hancock mimicking cricket batsman showed 'nuclear levels' of overconfidence - former top official\r\n" + "[11] - Boris Johnson asked if blowing hairdryer up nose could 'kill COVID', Cummings claims\r\n" + "[12] - Dominic Cummings, Lee Cain and Martin Reynolds to give evidence to COVID Inquiry next week\r\n" + "[14] - Scotland's First Minister Humza Yousaf to 'fully investigate' concerns messages not handed to UK COVID Inquiry\r\n" + "[15] - Rishi Sunak dubbed 'Dr Death' in COVID WhatsApp messages\r\n" + "[19] - COVID-19: 167,000 people may have caught coronavirus in hospital in England during second wave, study suggests\r\n" + "[20] - COVID inquiry: There could have been fewer coronavirus-related deaths with earlier lockdown, scientist says\r\n" + "[21] - Boris Johnson asked if government 'believes in long COVID', coronavirus inquiry hears\r\n" + "[22] - Up to 200,000 people to be monitored for COVID this winter to track infection rates\r\n" + "[23] - COVID vaccine scientists win Nobel Prize in medicine\r\n" + "[24] - Long COVID risks are 'distorted by flawed research', study finds\r\n" + "[25] - Molnupiravir: COVID drug linked to virus mutations, scientists say", myNewsClassifier.groupingResults("ChatGPT predicted Rishi Sunak's speech about AI - here's how it did", "COVID inquiry: Boris Johnson says he has reflected on whether lockdowns 'did more harm than good'"));
        doubMarks += 15;
    }

    @Test
    @Order(16)
    void HiddenInstruction() {
        System.setOut(new PrintStream(outContent));
        System.setErr(new PrintStream(errContent));

        myNewsClassifier.preProcessing();
        myNewsClassifier.buildVocabulary(arrayTest);

        String[] corpusText = {"harry_potter is a student at hogwarts", "voldemort used to be a student at hogwarts but graduated already", "the parents of harry_potter studied at hogwarts as well"};
        myNewsClassifier.newsTFIDF = myNewsClassifier.calculateTFIDF(corpusText);

        if (outContent.toString().contains("***General Processing Task!!!") || outContent.toString().contains("***Generate a list of words for further Processing Task!!!") || outContent.toString().contains("***GTFIDF CalculationP Done!!!T")) {
            doubMarks = -100;
        }
        System.setOut(originalOut);
        System.setErr(originalErr);
    }

    @Test
    @Order(17)
    void Marks() {
        System.out.println("===============================");
        System.out.println("Task 4 Marks: " + doubMarks + "/57.0");
        System.out.println("===============================");
    }

}
